"use strict";function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,a,t){return a&&_defineProperties(e.prototype,a),t&&_defineProperties(e,t),e}var LiveGallery=function(){function LiveGallery(e,a){_classCallCheck(this,LiveGallery),this.container=e,this.options=a,this.addOptions(),this.createShadow()}return _createClass(LiveGallery,[{key:"addOptions",value:function addOptions(){this.sunEffect=!!this.options.sunEffect.turnOn&&this.options.sunEffect,this.sunEffect&&(this.angleOincidence=this.sunEffect.angleOincidence),this.baseShadowTemplate=this.options.baseShadowTemplate||3,this.baseShadowTransparency=this.options.baseShadowTransparency||25,this.shadowMultiplicationFactor=this.options.shadowMultiplicationFactor||1,this.blurShadow=this.options.blurShadow||15}},{key:"addEventClickGallery",value:function addEventClickGallery(){var e=this;this.container.addEventListener("click",function(){e.openBlock()})}},{key:"openBlock",value:function openBlock(){event.target.classList.add("live-gallery-item-active")}},{key:"createShadow",value:function createShadow(){var e,a;this.sunEffect?12===this.angleOincidence?this.boxShadow="0px ".concat(3*this.baseShadowTemplate,"px ").concat(this.blurShadow,"px rgba(0, 0, 0, {{ transparency }})"):6===this.angleOincidence?this.boxShadow="0px -".concat(3*this.baseShadowTemplate,"px ").concat(this.blurShadow,"px rgba(0, 0, 0, {{ transparency }})"):this.angleOincidence<6?(e=this.baseShadowTemplate*this.angleOincidence/2*(this.baseShadowTemplate/this.angleOincidence),a=this.baseShadowTemplate*(this.baseShadowTemplate/this.angleOincidence),e=Math.round(e),a=Math.round(4<=this.angleOincidence?-a:a),this.boxShadow="-".concat(e,"px ").concat(a,"px ").concat(this.blurShadow,"px rgba(0, 0, 0, {{ transparency }})")):6<this.angleOincidence&&(e=this.baseShadowTemplate*this.angleOincidence/5*(this.angleOincidence/this.baseShadowTemplate),a=this.baseShadowTemplate*this.angleOincidence/3.7*(this.baseShadowTemplate/this.angleOincidence)+4,e=Math.round(e),a=Math.round(this.angleOincidence<=9?-a:a),this.boxShadow="".concat(e,"px ").concat(a,"px ").concat(this.blurShadow,"px rgba(0, 0, 0, {{ transparency }})")):this.boxShadow="0px 0px ".concat(this.blurShadow,"px rgba(0, 0, 0, transparency)")}},{key:"findsBlocksByLayers",value:function findsBlocksByLayers(){this.blocksLayer_1=this.container.querySelectorAll(".layer-1"),this.blocksLayer_2=this.container.querySelectorAll(".layer-2"),this.blocksLayer_3=this.container.querySelectorAll(".layer-3")}},{key:"renderStyle_InHead",value:function renderStyle_InHead(){var e=document.querySelector("head"),a=document.createElement("style");a.innerHTML="\n\t\t\t.layer-1 { box-shadow: ".concat(this.boxShadow.replace(/{{ transparency }}/g,"".concat(this.baseShadowTransparency,"%")),"; }\n\t\t\t.layer-2 { box-shadow: ").concat(this.boxShadow.replace(/{{ transparency }}/g,"".concat(this.baseShadowTransparency*this.shadowMultiplicationFactor,"%")),"; }\n\t\t\t.layer-3 { box-shadow: ").concat(this.boxShadow.replace(/{{ transparency }}/g,"".concat(this.baseShadowTransparency*this.shadowMultiplicationFactor,"%")),"; }\n\t\t"),e.append(a)}},{key:"run",value:function run(){this.findsBlocksByLayers(),this.renderStyle_InHead(),this.addEventClickGallery()}}]),LiveGallery}();